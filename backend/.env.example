# AI Messaging Platform Environment Variables
# Copy this to .env and fill in your values

# Required Variables
# Node environment (development, production, test)
NODE_ENV=development

# Server port
PORT=3000

# Firebase project ID
FIREBASE_PROJECT_ID=

# Firebase service account email
FIREBASE_CLIENT_EMAIL=

# Firebase service account private key
FIREBASE_PRIVATE_KEY=

# Firebase database URL
FIREBASE_DATABASE_URL=

# Redis connection URL (for hosted Redis like Redis Cloud)
# Format: redis://username:password@host:port
# If provided, this overrides REDIS_HOST, REDIS_PORT, and REDIS_PASSWORD
REDIS_URL=

# Redis host (used if REDIS_URL is not provided)
REDIS_HOST=localhost

# Redis port (used if REDIS_URL is not provided)
REDIS_PORT=6379

# Redis password (used if REDIS_URL is not provided)
REDIS_PASSWORD=

# Frontend application URL
FRONTEND_URL=http://localhost:3001

# JWT signing secret
JWT_SECRET=


# Optional Variables (Enable Features)
# DeepSeek API key for AI features (AI Integration)
# DEEPSEEK_API_KEY=

# DeepSeek API base URL (AI Integration)
# DEEPSEEK_BASE_URL=

# Together.ai API key for AI fallback when DeepSeek fails (AI Integration Fallback)
# TOGETHER_API_KEY=

# Stripe secret key for payments (Payment Processing)
# STRIPE_SECRET_KEY=

# Stripe publishable key (Payment Processing)
# STRIPE_PUBLISHABLE_KEY=

# Stripe webhook signing secret (Payment Processing)
# STRIPE_WEBHOOK_SECRET=

# Google Cloud Storage bucket name (Media Storage)
# STORAGE_BUCKET=

# CDN base URL for media serving (Media Storage)
# CDN_BASE_URL=

# Google Cloud project ID (Cloud Services)
# GOOGLE_CLOUD_PROJECT_ID=

# Path to Google Cloud credentials file (Cloud Services)
# GOOGLE_APPLICATION_CREDENTIALS=

# AI Context Configuration
# Maximum number of messages to include in AI conversation context (default: 50)
# AI_MAX_CONTEXT_MESSAGES=50

# Minimum number of messages to ensure context has substance (default: 2)
# AI_MIN_CONTEXT_MESSAGES=2

# Enable debug logging for AI context (default: true in development)
# AI_DEBUG_CONTEXT=true

# BullMQ Queue Configuration
# Queue name for message processing (default: messageProcessing)
QUEUE_NAME=messageProcessing

# Worker concurrency - number of jobs to process in parallel (default: 5)
QUEUE_CONCURRENCY=5

# Maximum number of retry attempts for failed jobs (default: 3)
QUEUE_MAX_RETRIES=3

# Redis Cache TTL (Time-to-Live) Settings - All values in seconds
# Default cache TTL for general caching (default: 3600 = 1 hour)
# REDIS_TTL_DEFAULT=3600

# User session cache TTL (default: 86400 = 24 hours)
# REDIS_TTL_SESSION=86400

# General short-term cache TTL (default: 300 = 5 minutes)
# REDIS_TTL_CACHE=300

# User profile cache TTL (default: 3600 = 1 hour)
# REDIS_TTL_USER_PROFILE=3600

# Character data cache TTL (default: 21600 = 6 hours)
# REDIS_TTL_CHARACTER=21600

# Conversation cache TTL (default: 1800 = 30 minutes)
# REDIS_TTL_CONVERSATION=1800

# Daily usage tracking cache TTL (default: 86400 = 24 hours)
# REDIS_TTL_USAGE=86400

# Message batch buffer TTL (default: 600 = 10 minutes)
# REDIS_TTL_MESSAGE_BATCH=600

# Stats batch buffer TTL (default: 3600 = 1 hour)
# REDIS_TTL_STATS_BATCH=3600

# Conversation buffer TTL (default: 900 = 15 minutes)
# REDIS_TTL_CONVERSATION_BUFFER=900

# Conversation context cache TTL (default: 900 = 15 minutes)
# REDIS_TTL_CONVERSATION_CONTEXT=900

# Message list cache TTL (default: 1800 = 30 minutes)
# REDIS_TTL_MESSAGE_LIST=1800

# Queue completed job cleanup TTL (default: 86400 = 24 hours)
# REDIS_TTL_QUEUE_COMPLETED=86400

# Queue failed job cleanup TTL (default: 604800 = 7 days)
# REDIS_TTL_QUEUE_FAILED=604800

